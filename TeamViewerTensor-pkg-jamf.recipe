<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>Description</key>
	<string>Company Branded TeamViewer Tensor was added to Jamf Pro via Autopgkr</string>
	<key>Identifier</key>
	<string>com.github.Pueo2.autopkg.TeamViewerTensor</string>
	<key>Input</key>
	<dict>
			<key>CATEGORY</key>
			<string>Business</string>
			<key>INFO</key>
			<string>TeamViewer Tensor was added to Jamf Pro via Autopgk</string>
			<key>NAME</key>
			<string>TeamViewerTensor</string>
			<key>SOFTWARETITLE1</key>
			<string>Teck</string>
      			<key>DOWNLOADURL</key>
      			<string>https://dl.teamviewer.com/download/version_15x/CustomDesign/Install%20TeamViewer-idc6me8qb9.pkg</string>
			<string>PackageName</string>
    			<key>PROCESS</key>
 			<string>FlatPkgUnpacker</string>
    			<key>PKG_PATH</key>
    			<string>%RECIPE_CACHE_DIR%/downloads/</string>
			<key>UPDATE_PREDICATE</key>
			<string>pkg_uploaded == True</string>
	</dict>
	<key>MinimumVersion</key>
	<string>2.3</string>
	<key>Process</key>
	<array>
	 	<dict>
			<key>Arguments</key>
	            <dict>
	              <key>destination_path</key>
	              <string>%RECIPE_CACHE_DIR%/downloads/unpack</string>
	              <key>flat_pkg_path</key>
	              <string>%pathname%</string>
	            </dict>
	              <key>Processor</key>
	              <string>FlatPkgUnpacker</string>
	            </dict>
	            <dict>
	               <key>Arguments</key>
	               <dict>
	                  <key>pattern</key>
	                  <string>%RECIPE_CACHE_DIR%/downloads/unpack/*Tensor*.pkg</string>
	               </dict>
	               <key>Processor</key>
	               <string>FileFinder</string>
	            </dict>
	            <dict>
	               <key>Arguments</key>
	               <dict>
	                  <key>destination_path</key>
	                  <string>%RECIPE_CACHE_DIR%/downloads/payload</string>
	                  <key>pkg_payload_path</key>
	                  <string>%found_filename%/Payload</string>
	               </dict>
				 <key>Processor</key>
				 <string>PkgPayloadUnpacker</string>
		     </dict>
			<dict>
				 <key>Arguments</key>
				 <dict>
				 <key>input_plist_path</key>
				 <string>%RECIPE_CACHE_DIR%/downloads/payload/TeamViewer.app/Contents/Info.plist</string>
				 <key>plist_version_key</key>
				 <string>%VERSIONTYPE%</string>
		                 </dict>
		   <key>Processor</key>
		   <string>Versioner</string>
		        </dict>
		  <dict>
			  <key>Processor</key>
			              <string>PkgCopier</string>
			              <key>Arguments</key>
			              <dict>
			                 <key>source_pkg</key>
			                 <string>%pathname%</string>
			                 <key>pkg_path</key>
			                 <string>%RECIPE_CACHE_DIR%/%SOFTWARETITLE1%-%NAME%_%version%.pkg</string>
			              </dict>
		  </dict>
			           <dict>
			              <key>Processor</key>
			              <string>PathDeleter</string>
			              <key>Arguments</key>
			              <dict>
			                 <key>path_list</key>
			                 <array>
			                    <string>%RECIPE_CACHE_DIR%/downloads/unpack</string>
			                    <string>%RECIPE_CACHE_DIR%/downloads/payload</string>
			                 </array>
			              </dict>
			  	     </dict>
			    <dict>
				<key>Arguments</key>
				<dict>
					<key>category_name</key>
					<string>%CATEGORY%</string>
					<key>replace_category</key>
					<string>False</string>
					<key>pkg_info</key>
					<string>%INFO%</string>
					<key>category_priority</key>
					<string>8</string>
				</dict>
				<key>Processor</key>
				<string>com.github.grahampugh.jamf-upload.processors/JamfCategoryUploader</string>
			</dict>	
			<dict>
        			<key>Processor</key>
       				 <string>com.github.haircut.processors/DatetimeOutputter</string>
				<key>Arguments</key>
				<dict>
       				 <key>datetime_format</key>
       				 <string>%A, %B %e, %Y at %l:%M %p</string>
    				</dict>
  			</dict>
			<dict>
				<key>Processor</key>
				<string>URLDownloader</string>
					<key>Arguments</key>
				<dict>
					<key>url</key>
					<string>%DOWNLOADURL%</string>
					<key>filename</key>
					<string>%SOFTWARETITLE1%-%NAME%.pkg</string>
					<key>pkg_category</key>
					<string>%CATEGORY%</string>
					<key>replace_pkg</key>
					<string>True</string>
					<key>pkg_notes</key>
					<string>Unloaded via Autopkg %datetime%</string>
			    </dict>
			</dict>	
			<dict>	   
				   <key>Processor</key>
				    <string>com.github.grahampugh.jamf-upload.processors/JamfPackageUploader</string>
		 </dict>	
	</array>
</dict>
</plist>
